---
title: Contributing
order: 3
---

import { Link } from 'gatsby'

# Contributing React Magma

## Dependencies

Node v10.x or greater with npm 6.1.x or greater

## How to Run Locally
 
1. Clone this repo:

    ```sh
    git clone ssh://git@stash.corp.web:7999/front/react-magma.git
    ```

2. Install the project's dependencies with the `npm ci` command

    ```sh
    npm ci
    ```

    **Why npm ci?** Using `npm ci` instead of `npm install` will install dependencies based on `package-lock.json` so you will get specific package versions and it should also speed up the install.

3. Run the development server for the docs

    ```sh
    npm run docs
    ```

    **Note:** _If you get errors about a missing typescript module during step three, you may need to run `npm i -s -D typescript` from `packages/react-magma-native` and rerun the previous two commands._

4. Visit the docs at [http://localhost:3000](http://localhost:3000).

## Project Structure

The project is built using a monorepo structure with the help of [Lerna](https://github.com/lerna/lerna).

Each folder under the `packages` folder is its own, independent package. Each package can be built and deployed as a node module, or in the case of an app like `react-magma-docs-gatsby`, it can be built and served as if it had its own repository.

Lerna handles dependencies within the monorepo, using symlinks to connect dependent packages. For example, `react-magma-dom` uses `react-magma-core` and `react-magma-docs` uses `react-magma-dom`. When a dependent project is build the consuming project automatically gets the latest build.

### Source Organization

The component library itself is broken out into multiple projects.

The `react-magma-core` project is render-agnostic, meaning it does not have a specific rendering target and can be used in any environment that runs React, whether that is a browser, React Native, React VR, or some future rendering target we haven't explored yet. This "core" project handles internal state management and logic so it can be shared between component implementations that target specific environments.

The `react-magma-dom` package is the browser-specific version of the components. The components utilize `react-magma-core` and handle the DOM specific rendering for those components.

The `react-magma-native` package is similar to `react-magma-dom` but is for the native-specific version of the components. 

The `react-magma-docs-gatsby` package handles the React Magma documentation, and is built on the <a href="https://www.gatsbyjs.org/">Gatsby framework</a>. 

## Making changes

The source code for each independent package in the project can be found under the `packages` folder. You will likely end up making changes to multiple packages.

All state management and logic should be handled in `react-magma-core`.  Therefore, any component with any statefulness will have a component within `react-magam-core`, as well as a corresponding component for each of its rendering targets (i.e. `react-magma-dom` or `react-magma-native`).

Any changes to the public-facing API **must** be accurately captured in the docs, and therefore will require updates to `react-magma-docs-gatsby`.

### Building

Once you have finished making your code changes within a package run `npm run build` from inside that package.

You must build before your changes will be reflected in the browser. Because of the linking provided by Lerna, making changes in `react-magma-core` will immediately be reflected in the `react-magma-dom` once `react-magma-core` is built.


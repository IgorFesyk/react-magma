---
pageTitle: Search API
title: Search
---

import { Link } from 'gatsby';
import { ScopeableLayout } from '../../components/layout';
import { Search } from 'react-magma-dom';
import { SimplePropsTable } from '../../components/props-table';
import DocsHeading from '../../components/docs-heading';

<DocsHeading to="/design/search/" type="design">
  Search
</DocsHeading>

The `Search` component is the standardized use of the <Link to='/api/inputs/'>Input</Link> component with `type='search'`.

## Basic Usage

The `onSearch` prop is required and takes a function and fires when the user clicks or presses Enter when focus is on the search icon or the search input. It also fires if the user is focused on the input and presses Enter.

```.jsx
    <Search onSearch={(term) => {alert(term)}} />
```

## Label and Placeholder Text

The `Search` component supports three text string props: `iconAriaLabel`, `labelText`, and `placeholder`.

The `iconAriaLabel` refers to the aria-label of the search icon, which will be read by screen readers.
The `labelText` refers to the aria-label of the input itself, which will also be read by screen readers.
The `placeholder` refers to the placeholder attribute of the input, which will display when the input is empty.

The default value of all of these is `Search`.

```.jsx
    <Search iconAriaLabel='Submit Search' labelText="Search for Articles and Books" onSearch={(term) => {}} placeholder="Search our Library" />
```

## Input Size

The `inputSize` prop can be used to control the input size. Options are `medium` and `large`, with `medium` being the default.

```.jsx
      <Search inputSize='large' onSearch={() => {}} />
```

## Inverse

Inverse is an optional boolean prop, that may be passed in when inputs are to be displayed on a dark background.

```.jsx
    <div style={{ background : '#00263E', padding: '20px' }}>
      <Search isInverse onSearch={(term) => {}} />
    </div>
```

## Loading

The isLoading boolean prop will determine if a loading animation is shown. The loading animation will replace the search icon button.

```.jsx
    (props) => {
      const [searchValue, setSearchValue] = React.useState('');
      const [isLoading, setIsLoading] = React.useState(false);

      function handleSearch(term) {
        setIsLoading(true);
        setTimeout(() => {
          setSearchValue(`Search value set to ${term}`);
          setIsLoading(false);
        }, 2500)
      }

    return (
      <div>
        <p><strong>Search Value: </strong> <span id="changedValue">{searchValue}</span></p>
        <Search
          labelText='Test Value'
          isLoading={isLoading}
          value=''
          onChange={(event) => setSearchValue(event.target.value)}
          onSearch={handleSearch} />
      </div>
    )
  }
```

## Custom Styles

Custom styles can be passed into the Search component. The `containerStyle` prop will apply to the container; the `inputStyle` prop will apply to the input field.
Please use discretion when adding custom styles.

```.jsx
      <Search
        containerStyle={{ border: '2px solid green', maxWidth:  '300px', padding: '2px' }}
        inputStyle={{ border: '1px dashed purple', borderRadius: '0' }} />
```

## Change Events

```.jsx
  (props) => {
    const [message, setMessage] = React.useState('');

    return (<div>
      <p><strong>Changed Value: </strong> <span id="changedValue">{message}</span></p>
      <Search
        labelText='Test Value'
        value=''
        onChange={(event) => setMessage(event.target.value)}
        onSearch={(term) => {}} />
    </div>)
  }
```

## Search Props

**This component uses `forwardRef`. The ref is applied to the `input` element.**

All of the [standard input attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input) can be provided as props and will be applied to the `input` element that gets rendered.


<SimplePropsTable
  propertyValues={{
    containerStyle: {
      type: {
        name: 'React.CSSProperties',
      },
      required: false,
      description: 'Style properties for the component container element',
    },
    iconAriaLabel: {
      type: {
        name: 'string',
      },
      required: false,
      description: 'Text for icon button aria-label',
      defaultValue: 'Search',
    },
    inputSize: {
      type: {
        name: 'enum',
        options: ['InputSize.large', 'InputSize.medium'],
      },
      required: false,
      description: 'Relative size of the component',
      defaultValue: 'medium',
    },
    inputStyle: {
      type: {
        name: 'React.CSSProperties',
      },
      required: false,
      description: 'Style properties for the input element',
    },
    isInverse: {
      type: {
        name: 'boolean',
      },
      required: false,
      description:
        'If true, the component will have inverse styling to better appear on a dark background',
      defaultValue: 'false',
    },
    isLoading: {
      type: {
        name: 'boolean',
      },
      required: false,
      description:
        'If true, the component will show a loading animation instead of a search button',
      defaultValue: 'false',
    },
    labelText: {
      type: {
        name: 'string',
      },
      required: false,
      description: 'Text for input aria-label',
      defaultValue: 'Search',
    },
    onSearch: {
      type: {
        name: 'function',
      },
      required: true,
      description: 'Action that will fire when search icon button is clicked.',
      defaultValue: '',
    },
    placeholder: {
      type: {
        name: 'string',
      },
      required: false,
      description: 'Text for input placeholder',
      defaultValue: 'Search',
    },
    testId: {
      type: {
        name: 'string',
      },
      required: false,
      description:
        'Test ID attached to an internal element as `data-testid` for consumer testing',
    },
  }}
/>

export default props => <ScopeableLayout {...props} components={{ Search }} />;

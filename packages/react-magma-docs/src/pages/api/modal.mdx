---
title: 'Modals'
---

import { ScopeableLayout } from '../../components/layout'
import { Modal, Button } from 'react-magma-dom'
import DocsHeading from '../../components/docs-heading'
import { Link } from 'gatsby'
import { SimplePropsTable } from '../../components/props-table'

<DocsHeading to="/design/modals/" type="design">
  Modals
</DocsHeading>

## Basic Usage

The `Modal` component renders its `children` node in front of a backdrop component. It also disables scrolling of the page content while open,
properly manages focus; moving to the modal content, and keeping it there until the modal is closed, and adds the appropriate ARIA roles automatically.

The modal will _only_ render if the `open` prop is set to true. For that reason, it is redundant to show the modal using the following anti-pattern: `{flag && <Modal open={flag} />`. Instead,
simply use `<Modal open={flag} />`

```.jsx

    class Example extends React.Component {
      constructor(props) {
        super(props)
        this.state = {
          showModal: false
        }

        this.onModalShow = this.onModalShow.bind(this);
        this.onModalClose = this.onModalClose.bind(this);
      }

      onModalShow() {
        this.setState({showModal: true})
      }

      onModalClose() {
        this.setState({showModal: false})
      }

      render() {
        const { showModal } = this.state;

        return (<>
            <Modal header="Modal Title" onClose={this.onModalClose} open={showModal}>
                <p>This is a modal, doing modal things.</p>
                <p>This is <a href="#">linked text</a> in the modal</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <p>This is a modal, doing modal things.</p>
                <p>This is <a href="#"> some more linked text</a> in the modal</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <p>This is a modal, doing modal things.</p>
                <p><Button>This is a button</Button></p>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </Modal>
          <Button onClick={this.onModalShow}>Show Modal</Button>
        </>)
      }
    }
```

## Modal Header

The modal header prop is optional. It can accept a node or a string, and will be rendered inside an H1.
If there is a header passed in, the focus will be placed on the header when the modal opens. If not, the focus will be placed on
the first actionable element. If there are no actionable elements, the focus will just go on the first child, although it is best practice to always include something actionable within the modal.

```.jsx

    class Example extends React.Component {
      constructor(props) {
        super(props)
        this.state = {
          showModal: false,
          showModalHeader: false,
          showModalNoFocus: false
        }

        this.onModalShow = this.onModalShow.bind(this);
        this.onModalClose = this.onModalClose.bind(this);

        this.onModalHeaderShow = this.onModalHeaderShow.bind(this);
        this.onModalHeaderClose = this.onModalHeaderClose.bind(this);

        this.onModalNoFocusShow = this.onModalNoFocusShow.bind(this);
        this.onModalNoFocusClose = this.onModalNoFocusClose.bind(this);
      }

      onModalShow() {
        this.setState({showModal: true})
      }

      onModalClose() {
        this.setState({showModal: false})
      }

       onModalHeaderShow() {
        this.setState({showModalHeader: true})
      }

      onModalHeaderClose() {
        this.setState({showModalHeader: false})
      }

      onModalNoFocusShow() {
        this.setState({showModalNoFocus: true})
      }

      onModalNoFocusClose() {
        this.setState({showModalNoFocus: false})
      }

      render() {
        const { showModal,  showModalHeader, showModalNoFocus } = this.state;

        return (<>
            <Modal size="small" onClose={this.onModalClose} open={showModal}>
                <p>This modal has no header.</p>
                <div style={{textAlign: 'center'}}>
                    <Button onClick={this.onModalClose} >OK</Button>
                </div>
            </Modal>
          <Button onClick={this.onModalShow}>Show Modal with no header</Button>

          <Modal header={<>Header With <em>Markup</em></>} onClose={this.onModalHeaderClose} open={showModalHeader}>
                <p>This modal has a header with an `em` tag inside it.</p>
                <div style={{textAlign: 'center'}}>
                    <Button onClick={this.onModalHeaderClose}>OK</Button>
                </div>
            </Modal>
          <Button onClick={this.onModalHeaderShow}>Show modal with header</Button>

          <Modal size="small" hideEscButton onClose={this.onModalNoFocusClose} open={showModalNoFocus}>
                <p>This modal has no header and nothing focusable.</p>
                <p>Consider the usability implications before implementing a modal like this this. A modal should have something actionable inside it.</p>
            </Modal>
          <Button onClick={this.onModalNoFocusShow}>Show Modal with nothing focusable</Button>
        </>)
      }
    }
```

## On Close Behavior

By default when a modal closes, it will return the focus to the element that had previously had focus before the modal focused.

If that element no longer exists in the dom, that action will fail silently and nothing will become focused. In those cases, you can use the `onClose` prop to put the focus on annother element.

```.jsx

    class Example extends React.Component {
      constructor(props) {
        super(props)
        this.state = {
          showModal: false,
          showButton: true
        }

        this.buttonRef = React.createRef();


        this.onModalShow = this.onModalShow.bind(this);
        this.onModalClose = this.onModalClose.bind(this);
      }

      onModalShow() {
        this.setState({showModal: true, showButton: false})
      }

      onModalClose() {
        this.setState({showModal: false});
        this.buttonRef.current.focus();
      }

      render() {
        const { showModal, showButton } = this.state;

        return (<>
            <Modal header="Modal Title" onClose={this.onModalClose} open={showModal}>
                <p>This is a modal, doing modal things.</p>
            </Modal>
          {showButton && <Button onClick={this.onModalShow}>Show Modal</Button>}
          <Button color="secondary" ref={this.buttonRef}>Another Button</Button>
        </>)
      }
    }
```

## Sizes

Sizes for modals include `small`, `medium`, and `large`, with `medium` being the default value.

```.jsx

    class Example extends React.Component {
      constructor(props) {
        super(props)
        this.state = {
          showSmallModal: false,
          showLargeModal: false
        }

        this.onModalSmallShow = this.onModalSmallShow.bind(this);
        this.onModalSmallClose = this.onModalSmallClose.bind(this);
        this.onModalLargeShow = this.onModalLargeShow.bind(this);
        this.onModalLargeClose = this.onModalLargeClose.bind(this);
      }

      onModalSmallShow() {
        this.setState({showSmallModal: true})
      }

      onModalSmallClose() {
        this.setState({showSmallModal: false})
      }

      onModalLargeShow() {
        this.setState({showLargeModal: true})
      }

      onModalLargeClose() {
        this.setState({showLargeModal: false})
      }


      render() {
        const { showSmallModal, showLargeModal } = this.state;

        return (<>
            <Modal size="small" header="Modal Small" onClose={this.onModalSmallClose} open={showSmallModal}>
                <p>This is a small modal, doing small modal things.</p>
            </Modal>

            <Modal size="large" header="Modal Large" onClose={this.onModalLargeClose} open={showLargeModal}>
                <p>This is a large modal, doing large modal things.</p>
            </Modal>

          <Button size="small" onClick={this.onModalSmallShow}>Show Small Modal</Button>
          <Button size="large" onClick={this.onModalLargeShow}>Show Large Modal</Button>
        </>)
      }
    }
```

## Modal Props

<SimplePropsTable
  props={{
    children: {
      type: {
        name: 'node',
      },
      required: true,
      description: 'The content of the component',
    },
    closeLabel: {
      type: {
        name: 'string',
      },
      required: false,
      description: 'The text read by screen readers for the close button',
      defaultValue: 'Close dialog',
    },
    disableBackdropClick: {
      type: {
        name: 'boolean',
      },
      required: false,
      description: 'If true, clicking the backdrop will not dismiss the modal',
      defaultValue: 'false',
    },
    disableEscKeyDown: {
      type: {
        name: 'boolean',
      },
      required: false,
      description:
        'If true, pressing the Escape key will not dismiss the modal',
      defaultValue: 'false',
    },
    header: {
      type: {
        name: 'node',
      },
      required: false,
      description: 'The content of the modal header',
    },
    hideEscButton: {
      type: {
        name: 'boolean',
      },
      required: false,
      description: 'If true, the close button the the modal will be supressed',
      defaultValue: 'false',
    },
    innerRef: {
      type: {
        name: 'React.Ref',
      },
      required: false,
      description: 'Reference to the element containing the modal content',
    },
    onClose: {
      type: {
        name: 'function',
      },
      required: true,
      description: 'Action that fires when the close button is clicked',
    },
    onEscKeyDown: {
      type: {
        name: 'function',
      },
      required: true,
      description: 'Action that fires when the Escape key is pressed',
    },
    open: {
      type: {
        name: 'boolean',
      },
      required: false,
      description: 'If true, the modal will be visible',
      defaultValue: 'false',
    },
    size: {
      type: {
        name: 'enum',
        options: ['ModalSize.large', 'ModalSize.medium', 'ModalSize.small'],
      },
      required: false,
      description: 'The relative size of the modal',
      defaultValue: 'medium',
    },
    testId: {
      type: {
        name: 'string',
      },
      required: false,
      description: 'ID used for testing purposes',
      defaultValue: '',
    },
  }}
/>

export default props => (
  <ScopeableLayout {...props} components={{ Modal, Button }} />
)

---
title: 'Loading Indicators'
---

import { ScopeableLayout } from '../../components/layout'
import { LoadingIndicator, Announce, Button } from 'react-magma-dom'
import { SimplePropsTable } from '../../components/props-table'
import { Link } from 'gatsby'

# Loading Indicators

When content is loading, the `LoadingIndicator` component can be used to communicate to users that the wait is expected and everything is normal.

## Basic Usage

```.jsx
    <LoadingIndicator />
```

## Progress Bar

```.jsx
    class Example extends React.Component {
      constructor(props) {
        super(props)

        this.state = {
          percentage: 0
        }

        this.setTimer = this.setTimer.bind(this);
      }

      setTimer() {
        setTimeout(() => {
          this.setState({ percentage: 10 });
        }, 2000);

        setTimeout(() => {
          this.setState({ percentage: 20 });
        }, 4000);

        setTimeout(() => {
          this.setState({ percentage: 30 });
        }, 6000);

        setTimeout(() => {
          this.setState({ percentage: 40 });
        }, 10000);

        setTimeout(() => {
          this.setState({ percentage: 50 });
        }, 15000);

        setTimeout(() => {
          this.setState({ percentage: 60 });
        }, 20000);

        setTimeout(() => {
          this.setState({ percentage: 70 });
        }, 25000);

        setTimeout(() => {
          this.setState({ percentage: 80 });
        }, 30000);

        setTimeout(() => {
          this.setState({ percentage: 90 });
        }, 35000);

        setTimeout(() => {
          this.setState({ percentage: 100 });
        }, 40000);
      }

      componentDidMount() {
        this.setTimer();
      }

      render() {
        const { percentage } = this.state;

        return (<LoadingIndicator percentage={percentage} type='progressbar' />)
      }
    }
```

## Custom Messages

The `LoadingIndicator`, supports three levels of messages. One displays immediately, the second one appears after five seconds, and the third appears after 15 seconds.
These messages can be customized by using the `message1`, `message2` and `message3` props.

```.jsx
    <LoadingIndicator
      message1="Custom message"
      message2="An additional custom message"
      message3="Third and final custom message" />
```

## Accessibility Considerations

Loading Indicators are indended to alert users to the fact that wait time is expected, so when a `LoadingIndixator` component is added to a UI, it is important that screen readers read the new content.
One way to do this is to the use the <Link to="/api/announce">Announce component</Link>, which employs the `aria-live` attribute. Be sure to place
the conditional logic to display the `LoadingIndicator` _inside_ the `Announce` component.

```.jsx
    class Example extends React.Component {
      constructor(props) {
        super(props)
        this.state = {
          showLoader: false
        }

        this.onLoaderShow = this.onLoaderShow.bind(this);
        this.onLoaderClose = this.onLoaderClose.bind(this);
      }

      onLoaderShow() {
        this.setState({showLoader: true})
      }

      onLoaderClose() {
        this.setState({showLoader: false})
      }

      render() {
        const { showLoader } = this.state;

        return (<>
          <p>
            <Button onClick={this.onLoaderShow}>Show Loading Indicator</Button>
            <Button onClick={this.onLoaderClose}>Hide Loading Indicator</Button>
          </p>
          <Announce>
            {showLoader && <LoadingIndicator />}
          </Announce>
        </>)
      }
    }
```

## Loading Indicator Props

<SimplePropsTable
  props={{
    message1: {
      type: {
        name: 'string',
      },
      required: false,
      description: 'Message displayed for the first five seconds',
      defaultValue: 'Loading...',
    },
    message2: {
      type: {
        name: 'string',
      },
      required: false,
      description: 'Message displayed between 5 and 15 seconds',
      defaultValue: 'Thank you for your patience. Still loading...',
    },
    message3: {
      type: {
        name: 'string',
      },
      required: false,
      description: 'Message displayed after 15 seconds',
      defaultValue: 'Sorry for the delay. This is taking longer than expected.',
    },
    type: {
      type: {
        name: 'enum',
        options: [
          'LoadingIndicatorType.progressbar, LoadingIndicatorType.spinner',
        ],
      },
      required: false,
      description:
        'Type of loading indictor to display, can be progress bar or spinner.',
      defaultValue: 'spinner',
    },
  }}
/>

export default props => (
  <ScopeableLayout
    {...props}
    components={{ LoadingIndicator, Announce, Button }}
  />
)

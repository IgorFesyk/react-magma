---
pageTitle: Schema Renderer API
title: Schema Renderer
---

<DocsHeading type="api">SchemaRenderer</DocsHeading>

<Alert variant="warning">The Schema Renderer is currently early beta. It is a work in progress and may have breaking changes.</Alert>

The `SchemaRenderer` is an advanced component which maps other React Magma components to a defined Schema. This allows developers to render data driven pages and forms at runtime.


## Basic Template

Several Basic Components from `react-magma-dom` are mapped in `react-magma-schema-renderer` by default. Refer to each component api page to find the props that each component supports.

```tsx
import React from 'react';
import { SchemaRenderer, Schema, templateTypes, componentTypes } from 'react-magma-schema-renderer';

const schema: Schema = {
  title: 'Basic Components',
  type: templateTypes.BASIC,
  fields: [
    {
      component: componentTypes.PARAGRAPH,
      name: 'name',
      children: 'This is a data driven Paragraph.'
    },
    {
      component: componentTypes.ALERT,
      name: 'ALERT',
      children: 'This is a data driven Alert'
    },
    {
      component: componentTypes.BANNER,
      name: 'BANNER',
      children: 'This is a data driven Banner'
    },
    {
      component: componentTypes.HEADING,
      name: 'HEADING',
      children: 'This is a data driven heading'
    },
    {
      component: componentTypes.HYPERLINK,
      name: 'HYPERLINK',
      to: 'https://react-magma.cengage.com',
      children: 'This is a data driven link'
    },
  ],
};

export function Example() {
  return (
    <div>
      <SchemaRenderer schema={schema} 
        onSubmit={values => alert(JSON.stringify(values, null, 2))}/>
    </div>
  );
}
```

## Form Template

The `SchemaRenderer` supports data-driven forms. This allows the creation of fully feature forms without having to write custom logic for validation and submission.

```tsx
import React from 'react';
import { SchemaRenderer, Schema, templateTypes, componentTypes } from 'react-magma-schema-renderer';
import { InputType } from 'react-magma-dom';

const schema: Schema = {
  title: 'Basic form',
  description: 'A collection of form components.',
  type: templateTypes.FORM,
  fields: [
    {
      component: componentTypes.INPUT,
      name: 'name',
      labelText: 'Input',
      type: InputType.text
    },
    {
      component: componentTypes.RADIO,
      name: 'radio',
      labelText: 'Radio',
      options: [
        {labelText: 'one', value: "1"},
        {labelText: 'two', value: "2"},
        {labelText: 'three', value: "3"},
      ]
    },
    {
      component: componentTypes.CHECKBOX,
      name: 'checkbox',
      labelText: 'Checkbox',
      value: 'checked'
    },
    {
      component: componentTypes.CHECKBOX,
      name: 'checkbox-group',
      labelText: 'Checkbox group',
      options: [
        {labelText: 'one', value: "1"},
        {labelText: 'two', value: "2"},
        {labelText: 'three', value: "3"},
      ]
    },
    {
      component: componentTypes.COMBOBOX,
      name: 'combobox',
      labelText: 'Combobox',
      options: [
        {labelText: 'one', value: "1"},
        {labelText: 'two', value: "2"},
        {labelText: 'three', value: "3"},
      ]
    },
    {
      component: componentTypes.COMBOBOX,
      name: 'combobox-multi',
      labelText: 'Multi combobox',
      isMulti: true,
      options: [
        {labelText: 'one', value: "1"},
        {labelText: 'two', value: "2"},
        {labelText: 'three', value: "3"},
      ]
    },
    {
      component: componentTypes.DATE_PICKER,
      name: 'date_picker',
      labelText: 'Date picker',
    },
    {
      component: componentTypes.PASSWORD_INPUT,
      name: 'password_input',
      labelText: 'Password input',
    },
    {
      component: componentTypes.SELECT,
      name: 'select',
      labelText: 'Select',
      options: [
        {labelText: 'one', value: "1"},
        {labelText: 'two', value: "2"},
        {labelText: 'three', value: "3"},
      ]
    },
    {
      component: componentTypes.SELECT,
      name: 'select-multi',
      labelText: 'Multi select',
      isMulti: true,
      options: [
        {labelText: 'one', value: "1"},
        {labelText: 'two', value: "2"},
        {labelText: 'three', value: "3"},
      ]
    },
    {
      component: componentTypes.TEXTAREA,
      name: 'textarea',
      labelText: 'Textarea',
    },
    {
      component: componentTypes.TIME_PICKER,
      name: 'time_picker',
      labelText: 'Time_picker',
    },
    {
      component: componentTypes.TOGGLE,
      name: 'toggle',
      labelText: 'Toggle',
    },
    {
      component: componentTypes.SPY,
      name: 'spy',
      subscription: { values: true },
      template: ({values}) => <pre>{JSON.stringify({values}, null, 2)}</pre>
    },
  ],
};

export function Example() {
  return (
    <div>
      <SchemaRenderer schema={schema} 
        onSubmit={values => alert(JSON.stringify(values, null, 2))}/>
    </div>
  );
}
```

## Sub Forms

Some components support sub fields

```tsx
import React from 'react';
import { SchemaRenderer, Schema, templateTypes, componentTypes, componentMapper, ComponentMapper } from 'react-magma-schema-renderer';

export function Example() {

  const schema: Schema = {
    title: 'Sub Form',
    description: 'A form within a foorm.',
    type: templateTypes.FORM,
    fields: [
      {
        component: componentTypes.FORM_GROUP,
        name: 'form_group',
        labelText: 'Register',
        fields: [
          {
            component: componentTypes.INPUT,
            name: 'name',
            labelText: 'Name',
            type: InputType.text
          },
          {
            component: componentTypes.INPUT,
            name: 'email',
            labelText: 'Email',
            type: InputType.text
          },
          {
            component: componentTypes.PASSWORD_INPUT,
            name: 'password',
            labelText: 'Password',
          },
        ]
      }
    ],
  };
  
  return (
    <div>
      <SchemaRenderer 
      schema={schema}
      onSubmit={values => alert(JSON.stringify(values, null, 2))}/>
    </div>
  );
}
```

## Field Array

The `SchemaRenderer` supports field arrays for repeating groups of inputs.

```tsx
import React from 'react';
import { SchemaRenderer, Schema, templateTypes, componentTypes, componentMapper, ComponentMapper } from 'react-magma-schema-renderer';

export function Example() {

  const schema: Schema = {
    title: 'Field Array',
    description: 'What becomes a repeating subform.',
    type: templateTypes.FORM,
    fields: [
      {
        component: componentTypes.FIELD_ARRAY,
        name: 'field_array',
        labelText: 'Field_array',
        fields: [
          {
            component: componentTypes.INPUT,
            name: 'name',
            labelText: 'Input',
            type: InputType.text
          },
        ]
      },
    ],
  };
  
  return (
    <div>
      <SchemaRenderer 
      schema={schema}
      onSubmit={values => alert(JSON.stringify(values, null, 2))}/>
    </div>
  );
}
```

## File Uploads

The `SchemaRenderer` supports file uploads.

```tsx
import React from 'react';
import { SchemaRenderer, Schema, templateTypes, componentTypes, componentMapper, ComponentMapper } from 'react-magma-schema-renderer';

export function Example() {

  const schema: Schema = {
    title: 'File Uploader',
    description: 'An example file upload component.',
    type: templateTypes.FORM,
    fields: [
      {
        component: componentTypes.FILE_UPLOAD,
        name: 'file-uploaded',
        labelText: 'file-uploaded',
      },
    ],
  };
  
  return (
    <div>
      <SchemaRenderer 
      schema={schema}
      onSubmit={values => alert(JSON.stringify(values, null, 2))}/>
    </div>
  );
}
```

## Custom Component

The `SchemaRenderer` 

```tsx
import React from 'react';
import { Button, ButtonType, Toast } from 'react-magma-dom';
import { SchemaRenderer, Schema, templateTypes, componentTypes, componentMapper, ComponentMapper } from 'react-magma-schema-renderer';

export function Example() {
  const [ isOpen, setIsOpen ] = React.useState(false);
  const [ showToast, setShowToast ] = React.useState(false);
  const CustomButton = ({ labelText, ...props }: any) => <Button type={ButtonType.button} {...props}>{labelText}</Button>;
  const CustomToast = ({ showToast, ...props }: any) => <>{showToast && <Toast {...props}/>}</>;

  const schema: Schema = {
    title: 'Custom Component',
    description: 'The most simplest of forms.',
    type: templateTypes.BASIC,
    fields: [
      {
        component: componentTypes.MODAL,
        name: 'name',
        isOpen,
        onClose: () => setIsOpen(false),
        header: 'Data Driven Modal',
        fields: [
          {
            component: componentTypes.PARAGRAPH,
            name: 'name',
            children: 'Hello. This is a Paragraph inside a Modal.'
          }
        ]
      },
      {
        component: componentTypes.CUSTOM,
        name: 'toast',
        onDismiss: () => setShowToast(false),
        showToast,
        customComponent: CustomToast,
        children: 'data driven toast.'
      },
      {
        component: componentTypes.CUSTOM,
        name: 'button-modal',
        onClick: () => setIsOpen(true),
        disabled: isOpen,
        labelText: 'OPEN MODAL',
        customComponent: CustomButton
      },
      {
        component: componentTypes.CUSTOM,
        name: 'button-toast',
        onClick: () => setShowToast(true),
        disabled: showToast,
        labelText: 'OPEN Toast',
        customComponent: CustomButton
      },
    ],
  };
  
  return (
    <div>
      <SchemaRenderer 
      schema={schema}
        onSubmit={values => alert(JSON.stringify(values, null, 2))}/>
    </div>
  );
}
```

## Form Spy

`SchemaRenderer` has a mapped component to register a [Form Spy](https://final-form.org/docs/react-final-form/api/FormSpy). This component will rerender whenever any of the state that it is subscribed to changes (which defaults to everything).

```tsx
import React from 'react';
import { SchemaRenderer, Schema, templateTypes, componentTypes, componentMapper, ComponentMapper } from 'react-magma-schema-renderer';

export function Example() {

  const schema: Schema = {
    title: 'Form Spy',
    description: 'Registering to the form state.',
    type: templateTypes.FORM,
    fields: [
      {
        component: componentTypes.INPUT,
        name: 'input',
        labelText: 'Some input',
      },
      {
        component: componentTypes.SPY,
        name: 'spy',
        template: (formState) => <pre>{JSON.stringify(formState, null, 2)}</pre>
      },
    ],
  };
  
  return (
    <div>
      <SchemaRenderer 
      schema={schema}
      onSubmit={values => alert(JSON.stringify(values, null, 2))}/>
    </div>
  );
}
```

## Validators

```tsx
import React from 'react';
import { SchemaRenderer, Schema, templateTypes, componentTypes, componentMapper, ComponentMapper, validatorTypes } from 'react-magma-schema-renderer';
import { Alert, AlertVariant } from 'react-magma-dom';

export function Example() {

  const schema: Schema = {
    title: 'Field Validation',
    description: 'Tossing some validation on an input.',
    type: templateTypes.FORM,
    fields: [
      {
        component: componentTypes.SPY,
        name: 'spy',
        subscription: {errors: true},
        template: ({errors}) => <>{Object.keys(errors).map(error => <Alert variant={AlertVariant.danger}>{errors[error]}</Alert>)}</>
      },
      {
        component: componentTypes.INPUT,
        name: 'input-foo',
        labelText: 'Some input',
        helperMessage: 'Value must be equal to Foo',
        initializeOnMount: true,
        validate: [
          {
            type: validatorTypes.PATTERN,
            pattern: /^Foo$/i
          }
        ]
      },
      {
        component: componentTypes.INPUT,
        name: 'input-bar',
        labelText: 'Some input',
        helperMessage: 'Value must be equal to Bar',
        initializeOnMount: true,
        validate: [
          {
            type: validatorTypes.PATTERN,
            pattern: /^Bar$/i
          }
        ]
      },
    ],
  };
  
  return (
    <div>
      <SchemaRenderer 
      schema={schema}
      onSubmit={values => alert(JSON.stringify(values, null, 2))}/>
    </div>
  );
}
```